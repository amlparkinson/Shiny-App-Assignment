---
title: "Untitled"
author: "Anne-Marie Parkinson"
date: "February 22, 2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(janitor)
library(sf) 
library(gganimate)
library(transformr) #need?
library(magick) #need?
library(here)
library(raster) #need?
library(tmap)
library(lubridate)
library(dplyr)
library(lwgeom)
library(ggthemes)

ca_border <-  read_sf(here::here("Arc_data", "ca_state_border"), layer = "CA_State_TIGER2016")
fire <- read_sf(here::here("Arc_data", "fire_perimeter_shpfile"), layer = "fire_perimeters" ) 

fire <- fire %>% 
  clean_names() %>% 
  lwgeom::st_make_valid() %>% 
  sf::st_collection_extract() %>% 
  mutate (fire_name = str_to_title(fire_name))
fire <- fire %>% 
  clean_names() %>% 
  lwgeom::st_make_valid() %>% 
  sf::st_collection_extract() %>% 
  mutate (fire_name = str_to_title(fire_name)) %>% 
  dplyr::filter (acres > 200) %>% 
  st_simplify(dTolerance = 100) %>% 
  mutate(year = as.numeric(year)) 


ggplot() +
    #geom_sf(data = ca_border, color = "grey80") +
    geom_sf(data = fire, fill = "red", alpha = 0.8, color = "red") +
    theme_classic() +
    theme_map() 
    #labs(title = "Year: {frame_time}") +
    #transition_time(year)
```

